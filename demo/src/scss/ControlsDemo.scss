/*
 * coffeescript-ui - Coffeescript User Interface System (CUI)
 * Copyright (c) 2013 - 2016 Programmfabrik GmbH
 * MIT Licence
 * https://github.com/programmfabrik/coffeescript-ui, http://www.coffeescript-ui.org
*/


//.cui-control ==  .cui-label .cui-button .cui-data-field


$block_width: 40px;
$baseline_color: red;



@mixin alignment_debug_helper($height, $baseline ) {
    &.cui-controls-demo-show-debug-helpers {
        .cui-control {
            //draw 2 green blocks on each side that show if the size is right
            position: relative;
            overflow: visible;
            &:before,
            &:after {
                position: absolute;
                content: ' ';
                top: -1px; //compensate border of helperblocks
                height: $height;
                width: $block_width;
                background-color: lawngreen;
                border-bottom: 1px solid $baseline_color;
                border-top: 1px solid $baseline_color;
            }

            &.cui-button {
                &:before,
                &:after {
                    top: -2px; //compensate button border + helper block border
                }
            }

            &:before {
                left: -$block_width;
            }
            &:after {
                right: -$block_width;
            }
        }

        .cui-controls-demo-text-baseline-debug {
            display: inline-block;
            position: absolute;
            left: 0;
            right: 0;
            top: $baseline; //one pixel distance to text bottom
            border-bottom: 1px solid $baseline_color;
            z-index: 1;
        }

        .cui-controls-demo-text-bottomline-debug {
            display: block;
            border-bottom: 1px solid $baseline_color;
            z-index: 1;
            width: 100%;
        }
    }
}

//TODO use this a a general mixin for overwriting sizes, replace cui-control by datafield,button,label
@mixin force-control-size($size: "normal") {

    #{"&.cui-controls-demo-force-size-"+$size} {
        //.cui-control
        @include set_control_size($size);
    }
}



.cui-controls-demo-table {

    .cui-controls-demo-control-container {

        position: relative;
        overflow: visible; //show debug bottom line

        padding-left: $block_width;

        > div {
            vertical-align: bottom; //bottom solves strange unaligned problems
        }
    }


    &.cui-controls-demo-force-width-auto {
        .cui-control {

        }
    }
    &.cui-controls-demo-force-width-hundred-percent {
        .cui-control {
            width: 100%;
        }
    }
    &.cui-controls-demo-force-flex-grow {
        .cui-controls-demo-control-container {
            display: flex;
            flex-direction: row;
            .cui-control {
                flex: 1 1 auto;
            }
        }
    }
    &.cui-controls-demo-force-column-align-stretch {
        .cui-controls-demo-control-container {
            display: flex;
            flex-direction: column;
            align-items: stretch;
            .cui-control {
            }
        }
    }
    &.cui-controls-demo-force-column-align-flex-start {
        .cui-controls-demo-control-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            .cui-control {
            }
        }
    }
    &.cui-controls-demo-force-column-align-flex-end {
        .cui-controls-demo-control-container {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            .cui-control {
            }
        }
    }

    &.cui-controls-demo-force-width-constant {
        .cui-control {
            width: 500px;
        }
    }

    &.cui-controls-demo-force-width-constant-small {
        .cui-control {
            width: 45px;
        }
    }


    @include force-control-size("mini");
    @include force-control-size("normal");
    @include force-control-size("big");
    @include force-control-size("bigger");

    $label_padding: 6px;
    &.cui-controls-demo-force-size-mini {
        @include alignment_debug_helper( map_get($button_line_heights,mini) + $label_padding, 15px);
    }
    &.cui-controls-demo-force-size-normal {
        @include alignment_debug_helper( map_get($button_line_heights,normal) + $label_padding, 18px);
    }
    &.cui-controls-demo-force-size-big {
        @include alignment_debug_helper( map_get($button_line_heights,big) + $label_padding, 23px);
    }
    &.cui-controls-demo-force-size-bigger {
        @include alignment_debug_helper( map_get($button_line_heights,bigger) + $label_padding, 24px);
    }


}
