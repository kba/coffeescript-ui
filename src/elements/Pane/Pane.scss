/*
 * coffeescript-ui - Coffeescript User Interface System (CUI)
 * Copyright (c) 2013 - 2016 Programmfabrik GmbH
 * MIT Licence
 * https://github.com/programmfabrik/coffeescript-ui, http://www.coffeescript-ui.org
*/



.cui-pane {
	//even when pane derives from vertical layout we have no class telling us
	@include three_pane_layout(vertical);
	@include absolute_vertical_layout();

	//listview should have no padding but should be a pane. too much css so we use a :not here
	&:not(.cui-list-view) {
		@include outer_pane_padding("normal");
		@include ASSERT_TYPE(cui-maximize);
	}

	.cui-vertical-layout-top,
	.cui-vertical-layout-bottom {
		//default is unscrollable header and footer toolbars and a scrollable center
		overflow: hidden;
	}

	//needed to cover our root gradient background
	background-color: $default_background_color;
	.cui-pane {
		background-color: transparent; //disable for nested panes
	}
}


.cui-tmpl-pane-fill-screen {
	$duration: 0.5s;
	transition: top ease-out $duration,right ease-out $duration,left ease-out $duration,bottom ease-out $duration;

	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;

	//use same z index as our layer
	@extend %layer_z_index;

	.cui-pane-fill-screen {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;

		.cui-pane-fill-screen-inner {
			width: 100%;
			height: 100%;
			box-sizing: border-box;
			background-color: $default_background_color;

			@include flex_display(flex); //same as layer is doing
		}
	}

	// overwrite "style" set by code
	&.cui-pane-fill-screen-is-on {
		top: 0 !important;
		left: 0 !important;
		bottom: 0 !important;
		right: 0 !important;
	}

}

.cui-tmpl-pane-fill-screen-placeholder {
	//just for showing that we have a bug when this background is visible
	background-color: red !important;
}


//============= root pane ==================

.cui-root-layout
{
	&:not(.cui-vertical-layout) {
		@include ERROR_MARKER("cui-root-layout must have class cui-vertical-layout");
	}

	width: 100%;
	height: 100%;

	//root menu animation
	transform: translateX(0px);
	transition: transform ease-out 0.3s;

	// padding in toolbars/paneheaders
	> .cui-vertical-layout-center {
		padding: 0 $grid_size;
	}

	> .cui-vertical-layout-top {

		//can happen that ez5 is using .cui-template-empty while measuring the absolute root layout
		.cui-toolbar.cui-template-empty {
			display: flex !important;
		}

		> .cui-horizontal-layout {
			padding: map_get($outer_padding_x, "big") map_get($outer_padding_x, "bigger");

			.cui-horizontal-layout-left {
				.cui-label {
					@include label_size("bigger");
					font-weight: normal !important;
				}

				.cui-button {
					@include button_size("bigger");
				}
			}

			//TODO maybe we want special sizes !?
			//$root_menu_title_icon_font_size: 24px;
			//$root_menu_title_font_size: 20px;
			//$root_menu_title_line_height: 23px;

			//.ez5-title > .cui-label {
			//	color: $root_menu_font_color;
			//	font-size: $root_menu_title_font_size;
			//	line-height: $root_menu_title_line_height;
			//}

			//.ez5-main-menu-button.cui-button {
			//	.cui-button-left {
			//		line-height: $root_menu_title_icon_font_size;
			//
			//		.fa {
			//			color: $root_menu_font_color;
			//			font-size: $root_menu_title_icon_font_size;
			//		}
			//	}
			//}

		}
	}

	> .cui-vertical-layout-bottom > .cui-horizontal-layout {
		padding: 4px $grid_size;
	}

	// button and label coloring

	> .cui-vertical-layout-top,
	> .cui-vertical-layout-bottom {
		> .cui-horizontal-layout {
			.cui-label {
				color: $root_menu_font_color;
			}

			.cui-button {
				@include button_flat_auto_colored( $root_menu_font_color, $root_menu_background_color, $background_is_transparent: true );
			}
		}
	}

	// show background thru paneheaders and flexhandles
	@extend %root_menu_background;

	> .cui-vertical-layout-bottom > .cui-pane-footer,
	> .cui-vertical-layout-top > .cui-pane-header {
		background-color: transparent;
	}
}

